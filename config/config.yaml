# Embodied Navigation System Configuration

# API Configuration
api:
  # Default profile to use (can be overridden with --profile CLI argument)
  default_profile: "Doro"

  # API Profiles - define multiple configurations and switch between them
  profiles:
    - name: "CLIProxyAPI"
      base_url: "http://38.207.171.242:8317"
      api_key: "sk-MteZ7pgKydkajtsPKJcIuZpvL6niVZcMXi71R0ASrgRF6"
      model: "gemini-2.5-flash"
      format: "gemini"

    - name: "CPASS-WARP"
      base_url: "https://www.cpass.cc"
      api_key: "sk-AHHLvs7fwksJD3POLYzcNXWq8dzrVIXSgE28wcA6yO1YgPRe"
      model: "gemini-3-pro-preview"
      format: "openai"

    - name: "Doro"
      base_url: "https://us.doro.lol"
      api_key: "sk-ijAm8ggmydGdlAptO2QzFxdcnQlcyFPsDAVuxqMk74Q8zvuI"
      model: "gemini-2.5-flash"
      format: "gemini"

    - name: "Privnode"
      base_url: "https://privnode.com"
      api_key: "sk-RIGht20sGMx5m2JhG5IhCbhihV5rh2hwK5J0xSCDSAxfhkoj"
      model: "gemini-3-pro-preview"
      format: "openai"

    - name: "ModelScope"
      base_url: "https://api-inference.modelscope.cn"
      api_key: "ms-0c86e4f9-2665-4c52-b967-b5e38f611a49"
      model: "Qwen/Qwen3-VL-8B-Instruct"
      format: "openai"

    - name: "RTX5000"
      base_url: "http://192.168.1.100:8000"
      api_key: ""
      model: "Qwen3-VL-8B-Instruct"
      # model: "Qwen3-VL-30B-A3B-Instruct"
      # model: "Qwen3-VL-30B-A3B-Thinking"
      # model: "Qwen3-VL-32B-Instruct"
      format: "openai"

  # Legacy format (for backward compatibility, used if profiles is empty)
  # format: "openai"
  # gemini:
  #   base_url: "http://38.207.171.242:8317"
  #   model: "gemini-2.5-flash"
  #   api_key: ""
  # openai:
  #   base_url: "http://38.207.171.242:8317"
  #   model: "gemini-2.5-flash"
  #   api_key: ""

# Video capture settings
video:
  # Source: camera index (0, 1, ...) or video file path
  source: 0
  # Frame queue size (1 = single frame buffer)
  queue_size: 1
  # Reconnection attempts on disconnect
  reconnect_attempts: 3
  reconnect_delay: 1.0  # seconds

# Image processing settings
image:
  # Target size for letterbox resize [width, height]
  target_size: [640, 640]
  # JPEG compression quality for VLM input (0-100, lower = smaller/faster)
  jpeg_quality: 75
  # Frame change detection threshold (0 = disabled, always call VLM)
  change_threshold: 15.0
  # Max seconds before forcing a VLM call even if scene unchanged
  max_staleness: 5.0

# Video export settings
export:
  # Enable video export (can be overridden with --export CLI flag)
  enabled: true
  # Default output directory for exported videos
  output_dir: "output"
  # Playback speed multiplier (e.g., 2.0 = 2x speed)
  speed: 1.0
  # Output video codec (mp4v, avc1, XVID)
  codec: "mp4v"
  # Output FPS (if not specified, uses source FPS / sample_interval * speed)
  fps: null

# Waypoint generation settings
waypoints:
  # Number of waypoints to generate
  count: 5
  # Vertical spacing mode: "equal" or "custom"
  spacing_mode: "equal"

# Visualization settings
visualization:
  # Window name
  window_name: "Embodied Navigation"
  # Show coordinate overlay
  show_coordinates: true
  # Color gradient: near (green) to far (red)
  near_color: [0, 255, 0]  # BGR
  far_color: [0, 0, 255]   # BGR
  # Info box widths (0.0-1.0, fraction of image width)
  left_box_width: 0.28   # Scene/Task/Intent boxes on left
  right_box_width: 0.22  # User Task box on right

# Logging settings
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
